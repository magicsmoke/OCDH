(kicad_sch (version 20211123) (generator eeschema)

  (uuid 591b8e72-abb8-4b4e-aabe-9746c596768f)

  (paper "A4")

  (title_block
    (title "CDH_ECU")
    (date "2022-03-06")
    (rev "1.2.3")
    (company "Daniel Edwards")
    (comment 1 "Chinese Diesel Heater - modern ECU replacement")
  )

  (lib_symbols
    (symbol "Device:C" (pin_numbers hide) (pin_names (offset 0.254)) (in_bom yes) (on_board yes)
      (property "Reference" "C" (id 0) (at 0.635 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "C" (id 1) (at 0.635 -2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 0.9652 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "cap capacitor" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Unpolarized capacitor" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "C_*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "C_0_1"
        (polyline
          (pts
            (xy -2.032 -0.762)
            (xy 2.032 -0.762)
          )
          (stroke (width 0.508) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.032 0.762)
            (xy 2.032 0.762)
          )
          (stroke (width 0.508) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "C_1_1"
        (pin passive line (at 0 3.81 270) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:R" (pin_numbers hide) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "R" (id 0) (at 2.032 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "R" (id 1) (at 0 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at -1.778 0 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "R res resistor" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Resistor" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "R_*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_0_1"
        (rectangle (start -1.016 -2.54) (end 1.016 2.54)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "R_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 133.985 81.28) (diameter 0) (color 0 0 0 0)
    (uuid 0b071061-07cb-44c2-91fc-ec72d70ede7e)
  )
  (junction (at 151.765 91.44) (diameter 0) (color 0 0 0 0)
    (uuid 229edd6c-f095-48d0-9721-2248331eabb8)
  )
  (junction (at 133.985 91.44) (diameter 0) (color 0 0 0 0)
    (uuid 6d1504fc-9ebd-43c8-8750-c785a96de014)
  )
  (junction (at 163.195 81.28) (diameter 0) (color 0 0 0 0)
    (uuid aba2e80a-f8bf-4b0f-8a04-0e692d088831)
  )
  (junction (at 151.765 81.28) (diameter 0) (color 0 0 0 0)
    (uuid b5da9f30-9629-4fad-9b1f-c3e26beeb225)
  )

  (wire (pts (xy 133.985 90.17) (xy 133.985 91.44))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 28155fae-b9f7-4c56-b833-7803f0d915c6)
  )
  (wire (pts (xy 133.985 91.44) (xy 133.985 95.25))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 54c8e0af-e6c4-42d7-b2e7-7b354d0cb6c6)
  )
  (wire (pts (xy 130.175 81.28) (xy 133.985 81.28))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 5cd5efbc-012e-41ae-a9fb-a921f463c40a)
  )
  (wire (pts (xy 161.925 81.28) (xy 163.195 81.28))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 6e0b5745-670f-46ab-bb50-e1c621a6b76b)
  )
  (wire (pts (xy 163.195 82.55) (xy 163.195 81.28))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 74fa1239-06e8-466b-adb0-053ab493b5b5)
  )
  (wire (pts (xy 151.765 82.55) (xy 151.765 81.28))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 7ef6e062-b131-4149-9a32-b8c26edd8ebb)
  )
  (wire (pts (xy 163.195 81.28) (xy 172.085 81.28))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 83614cb4-bd48-4c9d-906e-73fcbb07d008)
  )
  (wire (pts (xy 163.195 90.17) (xy 163.195 91.44))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 8cbc3fad-c010-4e38-add5-b0c58a225fe2)
  )
  (wire (pts (xy 151.765 91.44) (xy 163.195 91.44))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 905f4f7d-437e-4f51-b719-6003c7f7bb96)
  )
  (wire (pts (xy 133.985 82.55) (xy 133.985 81.28))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 9ad12707-de99-4a5d-996e-76f46e798efe)
  )
  (wire (pts (xy 119.38 81.28) (xy 122.555 81.28))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid bcab9d3d-85f6-4af4-b43a-5c4c0fea3f62)
  )
  (wire (pts (xy 133.985 81.28) (xy 151.765 81.28))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid c4a82b9d-77ff-4153-9d12-0be64182be30)
  )
  (wire (pts (xy 151.765 90.17) (xy 151.765 91.44))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid c84bd85e-5b15-4c7e-97f6-21fe760be498)
  )
  (wire (pts (xy 151.765 81.28) (xy 154.305 81.28))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid d4934a9d-3d94-4067-a432-3499a23f769d)
  )
  (wire (pts (xy 133.985 91.44) (xy 151.765 91.44))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid eaab2373-1322-4aa1-a3d1-7f0cf5d2b82a)
  )

  (text "filtering" (at 151.765 72.39 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 29b629fb-39c7-4868-9944-d05dec889be1)
  )
  (text "Voltage divider calculation\n\nVin = Vout\n14V = 1.47V\n12V = 1.26V\n10V = 1.05V\n\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nESP32 ADC Attenuation\n\nADC_ATTEN_DB_6\n\n150 mV ~ 1750 mV"
    (at 125.095 133.35 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 6e518aa7-8016-4a37-9125-575883f46186)
  )
  (text "voltage divider \n12v - 3.3v\n" (at 125.095 72.39 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid ae82725c-ecf2-43af-b643-47ec0a4199d1)
  )

  (hierarchical_label "VIN" (shape input) (at 119.38 81.28 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid ace87529-fb67-4704-b0ee-45fcc7c0a387)
  )
  (hierarchical_label "VOUT" (shape output) (at 172.085 81.28 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid ee46f630-127f-4f95-9e6f-9f1414aaa194)
  )
  (hierarchical_label "GND" (shape output) (at 133.985 95.25 270)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid fe05f4bb-4f5d-4414-8fe3-38d90d4acaa3)
  )

  (symbol (lib_id "Device:R") (at 126.365 81.28 90) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 1e6f1722-70b5-4965-bb45-26ea016dd669)
    (property "Reference" "R43" (id 0) (at 126.365 76.0222 90))
    (property "Value" "82K" (id 1) (at 126.365 78.3336 90))
    (property "Footprint" "Resistor_SMD:R_0805_2012Metric" (id 2) (at 126.365 83.058 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 126.365 81.28 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 5df2d3b6-64c9-445c-8fdc-577c9db86bfe))
    (pin "2" (uuid a5e4f3b0-4b42-46c6-88e1-541fc7d62153))
  )

  (symbol (lib_id "Device:C") (at 163.195 86.36 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 46919568-02a9-4f53-a663-0186204c3dfd)
    (property "Reference" "C37" (id 0) (at 166.116 85.1916 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "0u1" (id 1) (at 166.116 87.503 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0805_2012Metric" (id 2) (at 164.1602 90.17 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 163.195 86.36 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid f0aa5fcf-4f42-4557-8b2b-7c20831bd168))
    (pin "2" (uuid 47f2e253-cb9c-4468-804e-c407310f1c79))
  )

  (symbol (lib_id "Device:R") (at 158.115 81.28 90) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid c2b5a545-5490-4281-bf5e-738db3355ee5)
    (property "Reference" "R45" (id 0) (at 158.115 76.0222 90))
    (property "Value" "15K" (id 1) (at 158.115 78.3336 90))
    (property "Footprint" "Resistor_SMD:R_0805_2012Metric" (id 2) (at 158.115 83.058 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 158.115 81.28 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid da8ca264-5cd6-4f1e-ad2a-d92fa3673358))
    (pin "2" (uuid bdb067eb-db3e-4373-a3b6-6c9606004934))
  )

  (symbol (lib_id "Device:C") (at 151.765 86.36 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid eb6de4e3-099b-4013-9987-452a78f3ef1a)
    (property "Reference" "C36" (id 0) (at 154.686 85.1916 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "0u1" (id 1) (at 154.686 87.503 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0805_2012Metric" (id 2) (at 152.7302 90.17 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 151.765 86.36 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid cdac280a-e7d1-47ed-88e3-43f380fea06a))
    (pin "2" (uuid 68fc4795-bd3b-4953-a4a9-ecd0e44ad41c))
  )

  (symbol (lib_id "Device:R") (at 133.985 86.36 180) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid ee91f68d-e7c1-4ab3-8cae-51fd0247d9ef)
    (property "Reference" "R44" (id 0) (at 135.763 85.1916 0)
      (effects (font (size 1.27 1.27)) (justify right))
    )
    (property "Value" "10K" (id 1) (at 135.763 87.503 0)
      (effects (font (size 1.27 1.27)) (justify right))
    )
    (property "Footprint" "Resistor_SMD:R_0805_2012Metric" (id 2) (at 135.763 86.36 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 133.985 86.36 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid b774e4f4-8e5a-477e-a412-2548b86673c5))
    (pin "2" (uuid db869825-ff75-439a-8776-c42541bdebc7))
  )
)
