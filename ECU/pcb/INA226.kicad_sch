(kicad_sch (version 20211123) (generator eeschema)

  (uuid 7138620e-503d-40f9-a393-4797b151ec41)

  (paper "A4")

  (title_block
    (title "CDH_ECU")
    (date "2022-03-06")
    (rev "1.2.3")
    (company "Daniel Edwards")
    (comment 1 "Chinese Diesel Heater - modern ECU replacement")
  )

  (lib_symbols
    (symbol "Analog_ADC:INA226" (in_bom yes) (on_board yes)
      (property "Reference" "U" (id 0) (at -6.35 11.43 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "INA226" (id 1) (at 3.81 11.43 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "Package_SO:VSSOP-10_3x3mm_P0.5mm" (id 2) (at 20.32 -11.43 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "http://www.ti.com/lit/ds/symlink/ina226.pdf" (id 3) (at 8.89 -2.54 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "ADC I2C 16-Bit Oversampling Current Shunt" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "High-Side or Low-Side Measurement, Bi-Directional Current and Power Monitor (0-36V) with I2C Compatible Interface, VSSOP-10" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "VSSOP*3x3mm*P0.5mm*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "INA226_0_1"
        (rectangle (start 7.62 10.16) (end -7.62 -10.16)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type background))
        )
      )
      (symbol "INA226_1_1"
        (pin input line (at 10.16 7.62 180) (length 2.54)
          (name "A1" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -10.16 -2.54 0) (length 2.54)
          (name "Vin+" (effects (font (size 1.27 1.27))))
          (number "10" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at 10.16 5.08 180) (length 2.54)
          (name "A0" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin open_collector line (at 10.16 -7.62 180) (length 2.54)
          (name "~{Alert}" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin bidirectional line (at 10.16 0 180) (length 2.54)
          (name "SDA" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at 10.16 -2.54 180) (length 2.54)
          (name "SCL" (effects (font (size 1.27 1.27))))
          (number "5" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at 0 12.7 270) (length 2.54)
          (name "VS" (effects (font (size 1.27 1.27))))
          (number "6" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at 0 -12.7 90) (length 2.54)
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "7" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -10.16 7.62 0) (length 2.54)
          (name "Vbus" (effects (font (size 1.27 1.27))))
          (number "8" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -10.16 -5.08 0) (length 2.54)
          (name "Vin-" (effects (font (size 1.27 1.27))))
          (number "9" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Connector:Conn_01x01_Female" (pin_names (offset 1.016) hide) (in_bom yes) (on_board yes)
      (property "Reference" "J" (id 0) (at 0 2.54 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "Conn_01x01_Female" (id 1) (at 0 -2.54 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "connector" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Generic connector, single row, 01x01, script generated (kicad-library-utils/schlib/autogen/connector/)" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "Connector*:*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "Conn_01x01_Female_1_1"
        (polyline
          (pts
            (xy -1.27 0)
            (xy -0.508 0)
          )
          (stroke (width 0.1524) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (arc (start 0 0.508) (mid -0.508 0) (end 0 -0.508)
          (stroke (width 0.1524) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (pin passive line (at -5.08 0 0) (length 3.81)
          (name "Pin_1" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:C" (pin_numbers hide) (pin_names (offset 0.254)) (in_bom yes) (on_board yes)
      (property "Reference" "C" (id 0) (at 0.635 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "C" (id 1) (at 0.635 -2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 0.9652 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "cap capacitor" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Unpolarized capacitor" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "C_*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "C_0_1"
        (polyline
          (pts
            (xy -2.032 -0.762)
            (xy 2.032 -0.762)
          )
          (stroke (width 0.508) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.032 0.762)
            (xy 2.032 0.762)
          )
          (stroke (width 0.508) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "C_1_1"
        (pin passive line (at 0 3.81 270) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:R" (pin_numbers hide) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "R" (id 0) (at 2.032 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "R" (id 1) (at 0 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at -1.778 0 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "R res resistor" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Resistor" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "R_*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_0_1"
        (rectangle (start -1.016 -2.54) (end 1.016 2.54)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "R_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 143.51 72.39) (diameter 0) (color 0 0 0 0)
    (uuid 1bc32985-ab61-447a-afe3-660d26a19a5f)
  )
  (junction (at 105.41 97.79) (diameter 0) (color 0 0 0 0)
    (uuid 49029c52-3770-467b-87d5-c12b5bf094b3)
  )
  (junction (at 143.51 104.14) (diameter 0) (color 0 0 0 0)
    (uuid 8f250a1a-7bb4-42b0-9fe7-b312ab262705)
  )
  (junction (at 105.41 90.17) (diameter 0) (color 0 0 0 0)
    (uuid c256c09b-e08c-4ec0-80e7-1b0831204bfb)
  )
  (junction (at 155.575 85.09) (diameter 0) (color 0 0 0 0)
    (uuid f0cc4c02-1db1-4c0d-a497-f94c97be68b1)
  )

  (wire (pts (xy 112.395 90.17) (xy 105.41 90.17))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 0ee8e27b-d20e-4f02-b712-4997a21cc49e)
  )
  (wire (pts (xy 143.51 70.485) (xy 143.51 72.39))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 1fb1d253-1fb2-4f5c-8ad6-f78c7281ed82)
  )
  (wire (pts (xy 102.235 97.79) (xy 105.41 97.79))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 25f45324-984f-4f87-a61d-673388bceeef)
  )
  (wire (pts (xy 105.41 90.17) (xy 102.235 90.17))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 2a9b5734-3b73-486c-b715-16c398eb5599)
  )
  (wire (pts (xy 159.385 97.79) (xy 153.67 97.79))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 2eb031e3-3494-44ed-9380-0248c6bb86c9)
  )
  (wire (pts (xy 155.575 85.09) (xy 155.575 82.55))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 3542a2a1-ecef-4544-804a-995b582dd901)
  )
  (wire (pts (xy 112.395 95.25) (xy 133.35 95.25))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 4ad2dfab-f664-4c8a-9930-c5e665d4e982)
  )
  (wire (pts (xy 153.67 92.71) (xy 165.735 92.71))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 5b8f2167-6b6e-4385-94c4-d3a1c72babff)
  )
  (wire (pts (xy 164.465 72.39) (xy 143.51 72.39))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 6882c8b7-d749-4f07-bb4e-daf219c11285)
  )
  (wire (pts (xy 153.67 90.17) (xy 165.735 90.17))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 6e40da87-b7b6-4f08-9360-e78b5a349e8c)
  )
  (wire (pts (xy 155.575 85.09) (xy 155.575 104.14))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 719892b7-73d6-4324-88d0-a6e42022db33)
  )
  (wire (pts (xy 164.465 80.645) (xy 164.465 81.915))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 922a4e64-8595-408b-85af-74eae20e000c)
  )
  (wire (pts (xy 143.51 104.14) (xy 143.51 106.045))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 9a1c9946-4bb1-464e-9638-0b0962ff5dd6)
  )
  (wire (pts (xy 153.67 85.09) (xy 155.575 85.09))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 9cc0d861-a275-442f-b4cb-403a6bd9b83b)
  )
  (wire (pts (xy 155.575 82.55) (xy 153.67 82.55))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 9dd2eeab-5f84-449f-9097-f54dfc16b40c)
  )
  (wire (pts (xy 112.395 92.71) (xy 112.395 90.17))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid a24ade9c-27a5-4c37-9432-6b047a73adcf)
  )
  (wire (pts (xy 143.51 72.39) (xy 143.51 77.47))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid ae5cbd8a-5f36-4d45-9ce4-c69985c4d5db)
  )
  (wire (pts (xy 164.465 72.39) (xy 164.465 73.025))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b470cd70-a496-414d-bdad-fe474eca6dca)
  )
  (wire (pts (xy 94.615 90.17) (xy 85.725 90.17))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid c2786187-e9db-4b67-84ee-639c420f7308)
  )
  (wire (pts (xy 143.51 104.14) (xy 143.51 102.87))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid da66faaf-7b1d-4a22-864e-26a76b944250)
  )
  (wire (pts (xy 155.575 104.14) (xy 143.51 104.14))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid df1c0315-75d4-4bc5-852c-d035093f9ccc)
  )
  (wire (pts (xy 133.35 82.55) (xy 124.46 82.55))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid e3859ccb-59bf-42b2-a191-b1ed8b8cb443)
  )
  (wire (pts (xy 94.615 97.79) (xy 85.725 97.79))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid e7f4bc4c-e6d8-4b3a-afb4-5738c35c187c)
  )
  (wire (pts (xy 112.395 97.79) (xy 112.395 95.25))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid f1ff264b-c37e-4ec6-be5e-0188f1bc1a6b)
  )
  (wire (pts (xy 105.41 97.79) (xy 112.395 97.79))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid f7635583-1fef-47be-8d8c-ae48d5f9097c)
  )
  (wire (pts (xy 112.395 92.71) (xy 133.35 92.71))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid f9f16a09-1aba-44f0-be6a-51778dd87a72)
  )

  (hierarchical_label "GND" (shape output) (at 143.51 106.045 270)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 14c9a670-05f1-4e9e-8f43-eff6355d757d)
  )
  (hierarchical_label "VCC" (shape input) (at 143.51 70.485 90)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 2fc8d554-b50d-45ae-8cc5-3074651a354e)
  )
  (hierarchical_label "SDA" (shape bidirectional) (at 165.735 90.17 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 7633c328-919b-4d82-b112-47f41d2f0125)
  )
  (hierarchical_label "GND" (shape input) (at 164.465 81.915 270)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 7f03c798-f7bf-4d7c-b9b6-478820a572b7)
  )
  (hierarchical_label "Vbus" (shape input) (at 124.46 82.55 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 9dcdba8b-bbcd-475a-8986-d0d196c4af08)
  )
  (hierarchical_label "SCL" (shape bidirectional) (at 165.735 92.71 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid c0112352-5bea-4c7b-a02a-f843be17dd6a)
  )
  (hierarchical_label "SR+" (shape input) (at 85.725 90.17 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid ebe22b88-8bff-4e0b-91fb-9c50985b84ba)
  )
  (hierarchical_label "SR-" (shape input) (at 85.725 97.79 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid fdac2a5b-cc46-4953-a518-856f29f8539d)
  )

  (symbol (lib_id "Device:R") (at 98.425 97.79 270) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 2a82a409-f2a2-4e5d-a7cf-c7e3fe14511c)
    (property "Reference" "R21" (id 0) (at 98.425 95.25 90))
    (property "Value" "10" (id 1) (at 98.425 97.79 90))
    (property "Footprint" "Resistor_SMD:R_0805_2012Metric" (id 2) (at 98.425 96.012 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 98.425 97.79 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 868d76c0-1194-4ec4-a8d0-70cf46d1238f))
    (pin "2" (uuid 22c5aed8-655e-4e93-9837-7e20929e4897))
  )

  (symbol (lib_id "Device:C") (at 164.465 76.835 180) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 3b505174-a0f1-4f83-a149-f6be9f1a9e79)
    (property "Reference" "C27" (id 0) (at 170.8658 76.835 90))
    (property "Value" "0u1" (id 1) (at 168.5544 76.835 90))
    (property "Footprint" "Capacitor_SMD:C_0805_2012Metric" (id 2) (at 163.4998 73.025 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 164.465 76.835 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 14cb0931-1149-43f9-b2e8-23d8166bc353))
    (pin "2" (uuid 59316c3c-4462-487d-af6a-3728190f25d7))
  )

  (symbol (lib_id "Analog_ADC:INA226") (at 143.51 90.17 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 6ddc6b7c-9632-483b-ad26-4454d365eeae)
    (property "Reference" "U3" (id 0) (at 147.955 74.93 0))
    (property "Value" "INA226" (id 1) (at 149.86 77.47 0))
    (property "Footprint" "Package_SO:VSSOP-10_3x3mm_P0.5mm" (id 2) (at 163.83 101.6 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "http://www.ti.com/lit/ds/symlink/ina226.pdf" (id 3) (at 152.4 92.71 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 9b69ebe1-cee0-4436-b142-3f51152aa600))
    (pin "10" (uuid cac99284-9e1d-4a69-ac9d-184de1dc0041))
    (pin "2" (uuid 7a952817-9c8c-4f59-bb9c-ad6c83cfd1cc))
    (pin "3" (uuid 697c24fd-d5bd-4408-b9d1-25053d53c7a0))
    (pin "4" (uuid d7be4161-d727-4e00-bb49-01d9bf9dbad1))
    (pin "5" (uuid 4a146b86-4a96-4bb2-84a5-fd54ea9df184))
    (pin "6" (uuid ac19e00a-d2d5-473f-b540-6869e1a79fa3))
    (pin "7" (uuid f04284dd-73ea-4893-ad09-6a732a0725b8))
    (pin "8" (uuid 97022c2f-7d94-4859-8f07-e72fef8b630f))
    (pin "9" (uuid 591a2a75-1be1-4063-91b7-23d17e81766d))
  )

  (symbol (lib_id "Device:R") (at 98.425 90.17 270) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 86f5ae1b-576d-4918-8eda-006d452b2e0e)
    (property "Reference" "R20" (id 0) (at 98.425 87.63 90))
    (property "Value" "10" (id 1) (at 98.425 90.17 90))
    (property "Footprint" "Resistor_SMD:R_0805_2012Metric" (id 2) (at 98.425 88.392 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 98.425 90.17 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid c8333ff8-5499-4bb3-ac39-26881caad659))
    (pin "2" (uuid d7ec4394-7cd7-4f0d-a95b-0b5aeece333e))
  )

  (symbol (lib_id "Device:C") (at 105.41 93.98 180) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 94683cd9-2bd6-47cb-a35c-537dba11e1e8)
    (property "Reference" "C3" (id 0) (at 108.331 92.8116 0)
      (effects (font (size 1.27 1.27)) (justify right))
    )
    (property "Value" "0u1" (id 1) (at 108.331 95.123 0)
      (effects (font (size 1.27 1.27)) (justify right))
    )
    (property "Footprint" "Capacitor_SMD:C_0805_2012Metric" (id 2) (at 104.4448 90.17 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 105.41 93.98 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid dd25d37d-7646-4871-b8fc-f9590cf229cc))
    (pin "2" (uuid c55c42d6-a79c-4156-ad6a-810cdaecdea3))
  )

  (symbol (lib_id "Connector:Conn_01x01_Female") (at 164.465 97.79 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid c6ebcc56-0472-4793-bda3-382e8963d66c)
    (property "Reference" "J7" (id 0) (at 165.1762 97.1296 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "Pad" (id 1) (at 163.195 99.695 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "TestPoint:TestPoint_Pad_D1.5mm" (id 2) (at 164.465 97.79 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 164.465 97.79 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid a66ced7c-8b3b-4dd5-ac42-026a53124c40))
  )
)
